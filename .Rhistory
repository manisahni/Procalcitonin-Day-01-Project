akioddstable <- cbind(odds,int)
akioddstable
```{r, cache=TRUE}
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3 | rrtbin=TRUE)
data <- anonMASTER3
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(devakirifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle2))
odds <- exp(coef(glm.chf.aki.rifle2))
akioddstable <- cbind(odds,int)
akioddstable
anonMASTER3
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3 | rrtbin=TRUE)
data <- anonMASTER3
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(devakirifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle2))
odds <- exp(coef(glm.chf.aki.rifle2))
akioddstable <- cbind(odds,int)
akioddstable
View(anonMASTER3)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3 | rrtbin=TRUE)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3 | rrtbin="TRUE")
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
View(anonMASTER3)
anonMASTER4<- select(anonMASTER3, devakirifle3=TRUE | rrtbin= TRUE)
anonMASTER4<- select(anonMASTER3, devakirifle3="TRUE" | rrtbin="TRUE")
anonMASTER4<- select(anonMASTER3, devakirifle3=="TRUE" | rrtbin=="TRUE")
anonMASTER4<- select(anonMASTER3, devakirifle3=TRUE | rrtbin=TRUE)
anonMASTER4<- select(anonMASTER3, devakirifle3=="TRUE" | rrtbin=="TRUE")
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE")
)
View(anonMASTER4)
View(anonMASTER3)
length(is.na(anonMASTER$CR.d01))
is.na(anonMASTER$CR.d01)
table(is.na(anonMASTER$CR.d01))
table(is.na(anonMASTER4$CR.d01))
table(is.na(anonMASTER4$devakirifle3.d01))
table(is.na(anonMASTER4$devakirifle3))
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonMASTER4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(devakirifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle2))
odds <- exp(coef(glm.chf.aki.rifle2))
akioddstable <- cbind(odds,int)
akioddstable
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonMASTER4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(devakirifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle2))
odds <- exp(coef(glm.chf.aki.rifle2))
akioddstable <- cbind(odds,int)
akioddstable
```{r, aki rifle3 , }
anonMASTER3 <- mutate(anonMASTER, devakirifle2=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonMASTER4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
```
anonMASTER3 <- mutate(anonMASTER, devakirifle2=(d2max_cr/CR.d01)>=3)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
View(anonMASTER3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
View(anonmaster4)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
library(dlpyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
install.packages("dplyr")
library(dlpyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
install.packages("dplyr")
library(dplyr)
library(dlpyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
akioddstable
akioddstable
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
glm.chf.aki.rifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.aki.rifle3)
glmrifle3 <- glm.chf.aki.rifle3
int <- exp(confint(glm.chf.aki.rifle3))
odds <- exp(coef(glm.chf.aki.rifle3))
akioddstable <- cbind(odds,int)
akioddstable
```{r aki rifle3 , }
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster4 <- mutate(anonMASTER3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
chfrifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit))
summary(chfrifle3)
int <- exp(confint(chfrifle3))
odds <- exp(coef(chfrifle3))
akioddstable <- cbind(odds,int)
akioddstable
library(MASS)
library(leaps)
attach(chfnoesrd)
leaps <- regsubsets(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit), nbest=10)
plot(leaps)
glm.chf.vent.lact <- glm(VentCPT~log(PROCALCITONIN.d01)+LACTATE.d01+WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn,data=chfnoesrd, family=binomial(link=logit))
summary(glm.chf.vent.lact)
library(MASS)
library(leaps)
attach(chfnoesrd)
leaps <- regsubsets(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit), nbest=10)
plot(leaps)
library(MASS)
library(leaps)
attach(chfnoesrd)
leaps <- regsubsets(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+PHtn+Htn,data=chfnoesrd, family=binomial(link=logit), nbest=10)
plot(leaps)
source('~/.active-rstudio-document', echo=TRUE)
anonMASTER <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/anonMASTER.csv")
View(anonMASTER)
library(ggplot2)
library(caret)
library(dplyr)
```{r survival lactate graphs, cache=TRUE}
data <- anonMASTER
data <- tbl_df(data)
qplot(LACTATE.d01,Survival,data=data, colour=Survival)
anonMASTER <- mutate(anonMASTER, devakirifle2=(d2max_cr/CR.d01)>=2)
data <- anonMASTER
qplot(LACTATE.d01,Survival,data=data, colour=Survival, geom=c("point","smooth"), method=lm)
qplot(LACTATE.d01,Survival,data=data, colour=Transplant.y, geom=c("point","smooth"), method=lm)
```{r , cache=TRUE}
qplot(LACTATE.d01,Survival,data=data, colour=ESLD, geom=c("point","smooth"), method=lm)
library(ggplot2)
source('~/.active-rstudio-document', echo=TRUE)
anonMASTER <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/anonMASTER.csv")
View(anonMASTER)
library(ggplot2)
library(caret)
library(dplyr)
data <- anonMASTER
data <- tbl_df(data)
qplot(LACTATE.d01,Survival,data=data, colour=Survival)
anonMASTER <- mutate(anonMASTER, devakirifle2=(d2max_cr/CR.d01)>=2)
data <- anonMASTER
qplot(LACTATE.d01,Survival,data=data, colour=Survival, geom=c("point","smooth"), method=lm)
qplot(LACTATE.d01,Survival,data=data, colour=Transplant.y, geom=c("point","smooth"), method=lm)
```{r , cache=TRUE}
qplot(LACTATE.d01,Survival,data=data, colour=ESLD, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=PROCALCITONIN.d01, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=ESLD, geom=c("point","smooth"), method=lm)
qplot(log(LACTATE.d01),Survival,data=data,colour=aki, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=aki, geom=c("point","smooth"), method=lm)
qplot(LACTATE.d01,Survival,data=data, colour=Transplant.y, geom=c("point","smooth"), method=lm)
```{r , cache=TRUE}
qplot(LACTATE.d01,Survival,data=data, colour=ESLD, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=PROCALCITONIN.d01, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=Transplant.y, geom=c("point","smooth"), method=lm)
qplot(log(PROCALCITONIN.d01),Survival,data=data,colour=Transplant.y, geom=c("point","smooth"), method=lm)
## define the esld subset and exclude the chronic dialysis patients##
esld <- subset(data, ESLD=="ESLD")
esldnonesrd <- subset(esld, ESRD_CKD.5="non ESRD.CKD5")
## glm for predicing the risk of starting rrt in the encounter in this subset##
g <- glm(rrtbin~WBC.d01 + log(PROCALCITONIN.d01) + CR.d01 +DM2 + Htn + PLATELETS.d01, data=esldnonesrd, family=binomial(link=logit))
summary(g)
qplot(log(PROCALCITONIN.d01),Survival,data=esldnonesrd,colour=aki, geom=c("point","smooth"), method=lm)
## define the esld subset and exclude the chronic dialysis patients##
esld <- subset(data, ESLD=="ESLD")
esldnonesrd <- subset(esld, ESRD_CKD.5="non ESRD.CKD5")
## glm for predicing the risk of starting rrt in the encounter in this subset##
g <- glm(rrtbin~WBC.d01 + log(PROCALCITONIN.d01) + CR.d01 +DM2 + Htn + PLATELETS.d01, data=esldnonesrd, family=binomial(link=logit))
summary(g)
qplot(log(PROCALCITONIN.d01),Survival,data=esldnonesrd,colour=aki, geom=c("point","smooth"), method=lm)
g
esld
chfnoesrd
chfnoesrd2 <- select(chfnoesrd, c("CR.d01","rifle3","PROCALCITONIN.d01","min_sodium")
)
View(chfnoesrd2)
chfnoesrd2
search()
library(dplyr)
chfnoesrd <- tbl_df(chfnoesrd)
chfnoesrd2 <- select(chfnoesrd, CR.d01,rifle3,PROCALCITONIN.d01,min_sodium)
+ )
chfnoesrd2 <- select(chfnoesrd, CR.d01,rifle3,PROCALCITONIN.d01,min_sodium)
View(chfnoesrd2)
chfnoesrd2 <- select(chfnoesrd2, -row.names)
dim(chfnoesrd2)
table(is.na(chfnoesrd2))
chfnoesrd2 <- select(chfnoesrd2, min_sodium)
data<-chfnoesrd2
View(data)
chfnoesrd2 <- select(chfnoesrd2, PROCALCITONIN.d01,CR.d01,rifle3)
data<-chfnoesrd2
hfnoesrd2 <- select(chfnoesrd2, CR.d01,rifle3)
hfnoesrd2 <- select(chfnoesrd2, CR.d01)
chfnoesrd2 <- select(chfnoesrd, CR.d01)
chfnoesrd2 <- select(chfnoesrd, CR.d01, PROCALCITONIN.d01)
chfnoesrd2 <- select(chfnoesrd, CR.d01, PROCALCITONIN.d01,rifle)
chfnoesrd2 <- select(chfnoesrd, CR.d01, PROCALCITONIN.d01,rifle3)
chfnoesrd2 <- select(chfnoesrd, PROCALCITONIN.d01,CR.d01,rifle3)
data<-chfnoesrd2
inTrain <- createDataPartition(y = chfnoesrd2$rifle3,p=0.75,list=FALSE)
inTrain
training <- chfnoesrd2[inTrain,]
testing <- chfnoesrd2[-inTrain,]
nrow(testing)
library(caret)
inTrain <- createDataPartition(y = chfnoesrd2$rifle3,p=0.75,list=FALSE)
inTrain
training <- chfnoesrd2[inTrain,]
testing <- chfnoesrd2[-inTrain,]
nrow(testing)
set.seed(2577)
glmFit <- train(rifle3 ~ ., data = training,method = "glm",preProc=c("knnImpute","center","scale"))
set.seed(2577)
glmFit <- train(rifle3 ~ ., data = training, method = "glm", preProc=c("knnImpute","center","scale"))
detach(dplyr)
search(dplyr)
detach(dplyr,unload=TRUE)
??detach
search()
detach(package"dplyr")
detach(package:dplyr)
search()
set.seed(2577)
glmFit <- train(rifle3 ~ ., data = training, method = "glm", preProc=c("knnImpute","center","scale"))
set.seed(2577)
glmFit <- train(rifle3 ~ ., data = training, method = "glm", preProcess=c("knnImpute","center","scale"))
set.seed(2577)
glmFit <- train(rifle3 ~ , data = training, method = "glm", preProcess=c("knnImpute","center","scale"))
set.seed(2577)
glmFit <- train(rifle3 ~. , data = training, method = "glm", preProcess=c("knnImpute","center","scale"))
set.seed(2577)
glmFit <- train(rifle3 ~ . , data = training, method = "glm")
glmFit <- train(rifle3 ~ . , data = training, method = "glm")
data <- omit.na(data)
data <- na.omit(data)
data
dim(data)
View(data)
glmFit <- train(rifle3 ~ . , data = training, method = "glm")
glmFit <- train(data$rifle3 ~ . , data = training, method = "glm")
glmFit <- train(data$rifle3 ~ ., data = training, method = "glm")
glmFit <- train(rifle3 ~ ., data = training, method = "glm")
data
is.data.frame(data)
glmFit <- train(rifle3 ~ ., data = training, method = "glm")
chfesrd
chfnoesrd
search()
chfnoesrd <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chfnoesrd.csv")
View(chfnoesrd)
anonmaster4 <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/anonmaster4.csv")
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
View(chfnoesrd)
setwd("~/Desktop/Procalcitonin Day 01 Priject")
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster3 <- mutate(anonMASTER3,rifle4 = (CR.d01 >=4 & ((d2max_cr-CR.d01)>=0.5)))
anonmaster4 <- mutate(anonmaster3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE" | rifle4 == "TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
library(dplyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster3 <- mutate(anonMASTER3,rifle4 = (CR.d01 >=4 & ((d2max_cr-CR.d01)>=0.5)))
anonmaster4 <- mutate(anonmaster3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE" | rifle4 == "TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
View(chfnoesrd)
chfnoesrd <- m2
a <- chfnoesrd
chfnoesrd <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chfnoesrd.csv")
select(chfnoesrd, X, AGE)
chf <- tbl_df(chfnoesrd)
View(a)
View(chf)
View(anonMASTER)
View(anonMASTER3)
View(anonmaster4)
newageMASTER <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/newageMASTER.csv")
View(newageMASTER)
data <- as.data.frame(chfnoesrd2)
chfnoesrd <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chfnoesrd.csv")
newageMASTER <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/newageMASTER.csv")
library(dplyr)
chf<- tbl_df(chfnoesrd)
age <- tbl_df(newageMASTER)
chf <- left_join(chf,age, by="X")
View(chf)
colnames(chf)
library(dplyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster3 <- mutate(anonMASTER3,rifle4 = (CR.d01 >=4 & ((d2max_cr-CR.d01)>=0.5)))
anonmaster4 <- mutate(anonmaster3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE" | rifle4 == "TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
write.csv(chfnoesrd,"chfnoesrd")
wd()
setwd("~/Desktop/Procalcitonin Day 01 Priject")
write.csv(chfnoesrd,"chfnoesrd")
View(chfnoesrd)
library(dplyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster3 <- mutate(anonMASTER3,rifle4 = (CR.d01 >=4 & ((d2max_cr-CR.d01)>=0.5)))
load("~/Desktop/Procalcitonin Day 01 Priject/surival analysis from day01 labs.RData")
load("~/Desktop/Procalcitonin Day 01 Priject/anonmaster4.csv")
anonmaster4 <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/anonmaster4.csv")
View(anonmaster4)
source('~/.active-rstudio-document', echo=TRUE)
View(anonMASTER)
View(anonmaster4)
library(dplyr)
anonMASTER3 <- mutate(anonMASTER, devakirifle3=(d2max_cr/CR.d01)>=3)
anonmaster3 <- mutate(anonMASTER3,rifle4 = (CR.d01 >=4 & ((d2max_cr-CR.d01)>=0.5)))
anonmaster4 <- mutate(anonmaster3, rifle3 = (devakirifle3=="TRUE" | rrtbin =="TRUE" | rifle4 == "TRUE"))
data <- anonmaster4
chf <- subset(data, CHF=="CHF")
chfnoesrd<- subset(chf, ESRD_CKD5=="non ESRD.CKD5" )
View(chfnoesrd)
write.csv(chfnoesrd,"chfnoesrd.csv")
chfnoesrd <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chfnoesrd.csv")
View(chfnoesrd)
chf<- tbl_df(chfnoesrd)
colnames(chf)
chf<- select(chf, -X.1,-X.2,-CRP.d01,-rationcr,-mean_cr)
chf<- select(chf, c(-X.1,-X.2,-CRP.d01,-rationcr,-mean_cr))
deletecol <- function(x,y){x$y <- NULL}
delcol <- function(x,y){x$y <- NULL}
delcol <- function(y){chf$y <- NULL}
delcol(X.1)
delcol(X.2)
delcol(CRP.d01)
View(chf)
delcol <- function(y){chf[,"y"] <- NULL}
delcol(X.1)
Viewchf
View(chf)
chf$X.2 <- NULL
View(chf)
chf$X.1<- NULL
chf$IMMUNE<- NULL
chf$CHEMORAD<- NULL
chf$meancr<- NULL
chf$mean_cr<- NULL
chf$CRP.d01<- NULL
chf$HIV<- NULL
chf$LVAD<- NULL
chf$rationcr<- NULL
chf$maxcr<- NULL
chf$newage<- NULL
view(chf)
View(chf)
write.csv(chf,"chf.csv")
chf <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chf.csv")
View(chf)
chfrifle2 <- glm(devakirifle2~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+AGE+PHtn+Htn,data=chf, family=binomial(link=logit))
summary(chfrifle2)
int <- exp(confint(chfrifle2))
odds <- exp(coef(chfrifle2))
akioddstable <- cbind(odds,int)
akioddstable
chf <- read.csv("~/Desktop/Procalcitonin Day 01 Priject/chf.csv")
chf.aki<- glm(devaki~log(PROCALCITONIN.d01)+LACTATE.d01+WBC.d01+DM2+PHtn+min_sodium+CR.d01+gender+ALB.d01+AGE,data=chf, family=binomial(link=logit))
summmary(chf.aki)
int <- exp(confint(chf.aki))
odds <- exp(coef(chf.aki))
akioddstable <- cbind(odds,int)
akioddstable
## glm for rifle3
chfrifle3 <- glm(rifle3~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+PHtn+Htn+AGE+min_sodium+min_hb,data=chf, family=binomial(link=logit))
summary(chfrifle3)
##odds ratio table
int <- exp(confint(chfrifle3))
odds <- exp(coef(chfrifle3))
akioddstable <- cbind(odds,int)
akioddstable
chfrifle2 <- glm(devakirifle2~log(PROCALCITONIN.d01)+LACTATE.d01+ WBC.d01+DM2+CR.d01+gender+ALB.d01+ESLD+AGE+PHtn+Htn,data=chf, family=binomial(link=logit))
summary(chfrifle2)
int <- exp(confint(chfrifle2))
odds <- exp(coef(chfrifle2))
akioddstable <- cbind(odds,int)
akioddstable
library(vcd)
mytable <- xtabs(~., data=chf)
library(vcd)mytable <- xtabs(~., data=chf)
library(vcd)
mytable <- xtabs(~Htn+PHtn+ESLD)
mytable
ftable(mytable)
mytable <- xtabs(~Htn+PHtn+ESLD)
ftable(mytable)
install.packages("xtable")
library(xtable)
chf.aki<- glm(devaki~log(PROCALCITONIN.d01)+LACTATE.d01+WBC.d01+DM2+PHtn+min_sodium+CR.d01+gender+ALB.d01+AGE,data=chf, family=binomial(link=logit))
summary(chf.aki)
int <- exp(confint(chf.aki))
odds <- exp(coef(chf.aki))
akioddstable <- cbind(odds,int)
akioddstable
akioddstable<- xtable(akioddstable)
akioddstable
LACTATE.d01 & 0.90 & 0.58 & 1.24 \\
print(xtable(akioddstable))
print(xtable(akioddstable))
library(xtable)
print(xtable(chfrifle3), type="pdf")
print(xtable(chfrifle3), type="latex")
print(xtable(chfrifle3), type="html")
install.packages("stargazer")
library(stargazer)
??stargazer
attitude
View(attitude)
stargazer(attitude)
install.packages("sweavetoknitr")
install.packages("sweave2knitr")
print(xtable(chfrifle3), type="latex")
\end{table}
stargazer(attitude)
library(stargazer)
stargazer(attitude)
\end{table}
stargazer(attitude)
stargazer(attitude)
version()
